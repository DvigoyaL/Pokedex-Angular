import{b as X,c as Z}from"./chunk-MGRCBOLI.js";import{Bb as J,Ca as g,Db as y,Eb as d,N as G,Na as A,Oa as _,Pa as S,Qa as W,Qb as Q,Ra as E,Rb as h,S as $,Sa as T,Sb as b,Ta as s,Ua as n,Va as a,Wa as c,X as x,Xa as H,Y as C,Ya as K,Z as F,_ as L,_a as N,ab as v,cb as u,i as O,jb as R,kb as l,lb as M,mb as p,ra as f,rb as j,ta as r,ub as P,vb as w,wb as Y}from"./chunk-LOYXRZLP.js";var ee=class i{STORAGE_KEY="pokemon-favorites";favoritesSubject;favorites$;constructor(){let t=this.loadFromStorage();this.favoritesSubject=new O(t),this.favorites$=this.favoritesSubject.asObservable()}loadFromStorage(){try{let t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading favorites from localStorage:",t),[]}}saveToStorage(t){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t))}catch(e){console.error("Error saving favorites to localStorage:",e)}}addFavorite(t){let e=this.favoritesSubject.value;if(!this.isFavorite(t.id)){let o=[...e,t];this.favoritesSubject.next(o),this.saveToStorage(o)}}removeFavorite(t){let o=this.favoritesSubject.value.filter(m=>m.id!==t);this.favoritesSubject.next(o),this.saveToStorage(o)}toggleFavorite(t){this.isFavorite(t.id)?this.removeFavorite(t.id):this.addFavorite(t)}isFavorite(t){return this.favoritesSubject.value.some(e=>e.id===t)}getFavorites(){return this.favoritesSubject.value}clearAllFavorites(){this.favoritesSubject.next([]),this.saveToStorage([])}get count(){return this.favoritesSubject.value.length}static \u0275fac=function(e){return new(e||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})};var ne=i=>({"background-color":i});function re(i,t){if(i&1){let e=N();n(0,"button",5),v("click",function(m){x(e);let k=u();return C(k.onFavoriteClick(m))}),F(),n(1,"svg",6),c(2,"path",7),a()()}if(i&2){let e=u();R("text-red-500",e.isFavorite())("text-gray-400",!e.isFavorite()),r(),A("fill",e.isFavorite()?"currentColor":"none")}}var te=class i{pokemon=d.required();backgroundColor=d.required();showFavoriteButton=d(!1);isFavorite=d(!1);cardClicked=y();favoriteToggled=y();onCardClick(){this.cardClicked.emit(this.pokemon())}onFavoriteClick(t){t.stopPropagation(),this.favoriteToggled.emit(this.pokemon())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["pokedex-pokemon-basic-card"]],inputs:{pokemon:[1,"pokemon"],backgroundColor:[1,"backgroundColor"],showFavoriteButton:[1,"showFavoriteButton"],isFavorite:[1,"isFavorite"]},outputs:{cardClicked:"cardClicked",favoriteToggled:"favoriteToggled"},decls:7,vars:9,consts:[[1,"shadow-md","rounded-lg","p-4","flex","flex-col","items-center","cursor-pointer","hover:opacity-80","hover:scale-105","transition","relative",3,"click","ngStyle"],[1,"absolute","top-2","right-2","p-2","rounded-full","bg-white","shadow-md","hover:scale-110","transition-transform","z-10",3,"text-red-500","text-gray-400"],[1,"w-24","h-24","object-contain","mb-2",3,"src","alt"],[1,"capitalize","font-semibold","text-lg","text-gray-800"],[1,"text-gray-500"],[1,"absolute","top-2","right-2","p-2","rounded-full","bg-white","shadow-md","hover:scale-110","transition-transform","z-10",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"]],template:function(e,o){if(e&1&&(n(0,"li",0),v("click",function(){return o.onCardClick()}),_(1,re,3,5,"button",1),c(2,"img",2),n(3,"p",3),l(4),a(),n(5,"p",4),l(6),a()()),e&2){let m;s("ngStyle",P(7,ne,o.backgroundColor())),r(),S(o.showFavoriteButton()?1:-1),r(),s("alt",j("Imagen de ",o.pokemon().name))("src",((m=o.pokemon().sprites.other)==null||m["official-artwork"]==null?null:m["official-artwork"].front_default)||o.pokemon().sprites.front_default,f),r(2),M(o.pokemon().name),r(2),p("#",o.pokemon().id.toString().padStart(4,"0"))}},dependencies:[b,h],encapsulation:2,changeDetection:0})};var ae=(i,t)=>({"background-color":i,color:t}),U=class i{typeName=d.required();backgroundColor=d.required();textColor=d.required();typeIcon=d.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["pokemon-type-badge"]],inputs:{typeName:[1,"typeName"],backgroundColor:[1,"backgroundColor"],textColor:[1,"textColor"],typeIcon:[1,"typeIcon"]},decls:4,vars:7,consts:[[1,"px-3","py-1","rounded-full","font-medium","capitalize","shadow","flex","items-center","gap-2","text-sm",3,"ngStyle"],[1,"rounded-full","p-0.5"],[1,"w-5","h-5",3,"src","alt"]],template:function(e,o){e&1&&(n(0,"span",0)(1,"div",1),c(2,"img",2),a(),l(3),a()),e&2&&(s("ngStyle",w(4,ae,o.backgroundColor(),o.textColor())),r(2),s("src",o.typeIcon(),f)("alt",o.typeName()),r(),p(" ",o.typeName(),`
`))},dependencies:[b,h],encapsulation:2})};var le=(i,t,e)=>({"background-color":i,"border-color":t,color:e}),z=class i{weakness=d.required();backgroundColor=d.required();textColor=d.required();typeIcon=d.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["pokemon-weakness-badge"]],inputs:{weakness:[1,"weakness"],backgroundColor:[1,"backgroundColor"],textColor:[1,"textColor"],typeIcon:[1,"typeIcon"]},decls:3,vars:8,consts:[[1,"px-3","py-1","rounded-full","font-medium","capitalize","shadow","flex","items-center","gap-2","border-2",3,"ngStyle"],[1,"w-4","h-4",3,"src","alt"]],template:function(e,o){e&1&&(n(0,"span",0),c(1,"img",1),l(2),a()),e&2&&(s("ngStyle",Y(4,le,o.backgroundColor(),o.backgroundColor(),o.textColor())),r(),s("src",o.typeIcon(),f)("alt",o.weakness()),r(),p(" ",o.weakness(),`
`))},dependencies:[b,h],encapsulation:2})};var V=class i{abilityName=d.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["pokemon-ability-badge"]],inputs:{abilityName:[1,"abilityName"]},decls:2,vars:1,consts:[[1,"px-3","py-1","rounded-full","bg-white","bg-opacity-50","font-medium","capitalize","shadow"]],template:function(e,o){e&1&&(H(0,"span",0),l(1),K()),e&2&&(r(),p(" ",o.abilityName(),`
`))},encapsulation:2})};var se=(i,t)=>({"p-2":i,"p-1":t}),me=(i,t)=>({"w-16 h-25":i,"w-14 h-14":t}),de=(i,t)=>({"text-base":i,"text-xs":t}),ce=(i,t)=>({"text-sm":i,"text-[10px]":t}),q=class i{evolutionName=d.required();evolutionId=d.required();spriteUrl=d.required();totalEvolutions=d.required();evolutionClicked=y();onEvolutionClick(){this.evolutionClicked.emit({name:this.evolutionName(),id:this.evolutionId()})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["pokemon-evolution-item"]],inputs:{evolutionName:[1,"evolutionName"],evolutionId:[1,"evolutionId"],spriteUrl:[1,"spriteUrl"],totalEvolutions:[1,"totalEvolutions"]},outputs:{evolutionClicked:"evolutionClicked"},decls:7,vars:20,consts:[[1,"flex","flex-col","items-center","text-center","cursor-pointer","hover:scale-105","transition",3,"click"],[1,"bg-gray-100","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"transition-all","duration-300",3,"src","alt","ngClass"],[1,"capitalize","font-semibold","mt-1",3,"ngClass"],[1,"text-gray-500",3,"ngClass"]],template:function(e,o){e&1&&(n(0,"div",0),v("click",function(){return o.onEvolutionClick()}),n(1,"div",1),c(2,"img",2),a(),n(3,"p",3),l(4),a(),n(5,"p",4),l(6),a()()),e&2&&(r(),s("ngClass",w(8,se,o.totalEvolutions()<=3,o.totalEvolutions()>3)),r(),s("src",o.spriteUrl(),f)("alt",o.evolutionName())("ngClass",w(11,me,o.totalEvolutions()<=3,o.totalEvolutions()>3)),r(),s("ngClass",w(14,de,o.totalEvolutions()<=3,o.totalEvolutions()>3)),r(),p(" ",o.evolutionName()," "),r(),s("ngClass",w(17,ce,o.totalEvolutions()<=3,o.totalEvolutions()>3)),r(),p(" #",o.evolutionId().padStart(4,"0")," "))},dependencies:[b,Q],encapsulation:2})};var pe=i=>({"background-color":i}),oe=i=>({color:i}),ue=(i,t)=>t.type.name,ge=(i,t)=>t.ability.name,ve=(i,t)=>t.id;function ke(i,t){if(i&1&&c(0,"pokemon-type-badge",13),i&2){let e=t.$implicit,o=u(2);s("typeName",e.type.name)("backgroundColor",o.getColorForType(e.type.name))("textColor",o.getTextColor(o.getColorForType(e.type.name)))("typeIcon",o.getTypeIcon(e.type.name))}}function fe(i,t){if(i&1&&(n(0,"div")(1,"span",34),l(2),a()()),i&2){let e=u(2);r(2),M(e.pokemon().habitat)}}function be(i,t){i&1&&(n(0,"p",28),l(1,"Unknown"),a())}function xe(i,t){if(i&1&&c(0,"pokemon-weakness-badge",29),i&2){let e=t.$implicit,o=u(2);s("weakness",e)("backgroundColor",o.getColorForType(e))("textColor",o.getTextColor(o.getColorForType(e)))("typeIcon",o.getTypeIcon(e))}}function Ce(i,t){if(i&1&&c(0,"pokemon-ability-badge",30),i&2){let e=t.$implicit;s("abilityName",e.ability.name)}}function ye(i,t){i&1&&(n(0,"div",38),l(1,"\u2192"),a())}function he(i,t){if(i&1){let e=N();n(0,"pokemon-evolution-item",37),v("evolutionClicked",function(m){x(e);let k=u(3);return C(k.onEvolutionClick(m))}),a(),_(1,ye,2,0,"div",38)}if(i&2){let e=t.$implicit,o=t.$index,m=t.$count,k=u(3);s("evolutionName",e.name)("evolutionId",e.id)("spriteUrl","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/"+e.id+".png")("totalEvolutions",k.pokemon().evolutionChain.length),r(),S(o!==m-1&&k.pokemon().evolutionChain.length<=3?1:-1)}}function _e(i,t){if(i&1&&(n(0,"div",31)(1,"h4",35),l(2,"Evolutions"),a(),n(3,"div",36),E(4,he,2,5,null,null,ve),a()()),i&2){let e=u(2);r(4),T(e.pokemon().evolutionChain)}}function Se(i,t){if(i&1){let e=N();n(0,"div",1),v("click",function(){x(e);let m=u();return C(m.closeModal())}),n(1,"button",2),v("click",function(){x(e);let m=u();return C(m.closeModal())}),l(2," \u2715 "),a(),n(3,"div",3)(4,"button",4),v("click",function(m){x(e);let k=u();return C(k.goToPreviousPokemon(m))}),F(),n(5,"svg",5),c(6,"path",6),a()(),L(),n(7,"div",7),v("click",function(m){return x(e),C(m.stopPropagation())}),n(8,"div",8)(9,"div",9)(10,"h2",10),l(11),a(),n(12,"p",11),l(13),a()(),n(14,"div",12),E(15,ke,1,4,"pokemon-type-badge",13,ue),a()(),n(17,"div",14)(18,"div",15)(19,"div",16),c(20,"img",17),n(21,"p",18),l(22,"Sprite Gallery"),a()(),n(23,"div",19)(24,"h4",20),l(25,"Base Stats"),a(),c(26,"app-stats-chart",21),a()(),n(27,"div",22)(28,"div",23)(29,"div")(30,"h4",24),l(31,"Description"),a(),n(32,"p",25),l(33),a(),n(34,"h4",24),l(35,"Attributes"),a(),n(36,"div",26)(37,"span",27),l(38),a(),n(39,"span",27),l(40),a()(),n(41,"h4",24),l(42,"Habitat"),a(),_(43,fe,3,1,"div")(44,be,2,0,"p",28),a(),n(45,"div")(46,"h4",24),l(47,"Weaknesses"),a(),n(48,"div",26),E(49,xe,1,4,"pokemon-weakness-badge",29,W),a(),n(51,"h4",24),l(52,"Abilities"),a(),n(53,"div",26),E(54,Ce,1,1,"pokemon-ability-badge",30,ge),a()()(),_(56,_e,6,0,"div",31),a()()(),n(57,"button",32),v("click",function(m){x(e);let k=u();return C(k.goToNextPokemon(m))}),F(),n(58,"svg",5),c(59,"path",33),a()()()()}if(i&2){let e=u();r(4),s("disabled",!e.canGoToPrevious()),r(3),s("ngStyle",P(16,pe,e.pokemon()?e.getColorForType(e.pokemon().types[0].type.name):"")),r(3),s("ngStyle",P(18,oe,e.getTextColor(e.getColorForType(e.pokemon().types[0].type.name)))),r(),p(" ",e.pokemon().name," "),r(),s("ngStyle",P(20,oe,e.getTextColor(e.getColorForType(e.pokemon().types[0].type.name)))),r(),p(" #",e.pokemon().id.toString().padStart(4,"0")," "),r(2),T(e.pokemon().types),r(5),s("alt",j("Image of ",e.pokemon().name))("src",e.spriteUrls[e.currentSpriteIndex],f),r(6),s("stats",e.pokemon().stats),r(7),M(e.pokemon().description),r(5),p("Height: ",e.pokemon().height/10," m"),r(2),p("Weight: ",e.pokemon().weight/10," kg"),r(3),S(e.pokemon().habitat!=="Desconocido"?43:44),r(6),T(e.pokemon().weaknesses),r(5),T(e.pokemon().abilities),r(2),S(e.pokemon().evolutionChain&&e.pokemon().evolutionChain.length>0?56:-1),r(),s("disabled",!e.canGoToNext())}}var ie=class i{pokemonUtils=$(X);pokemon=d.required();pokemonList=d.required();modalClosed=y();pokemonSelected=y();spriteUrls=[];currentSpriteIndex=0;spriteInterval;constructor(){J(()=>{let t=this.pokemon();t&&this.setupSpriteGallery(t)})}ngOnInit(){}setupSpriteGallery(t){this.spriteInterval&&clearInterval(this.spriteInterval),this.spriteUrls=Object.values(t.sprites).filter(o=>typeof o=="string");let e=Object.values(t.sprites.other||{}).flatMap(o=>Object.values(o)).filter(o=>o);this.spriteUrls=[...this.spriteUrls,...e].reverse(),this.currentSpriteIndex=0,this.spriteUrls.length>1&&(this.spriteInterval=setInterval(()=>{this.currentSpriteIndex=(this.currentSpriteIndex+1)%this.spriteUrls.length},1e3))}closeModal(){this.spriteInterval&&clearInterval(this.spriteInterval),this.modalClosed.emit()}getColorForType(t){return this.pokemonUtils.getColorForType(t)}getTextColor(t){if(!t||t.length<7)return"#000000";let e=parseInt(t.substr(1,2),16),o=parseInt(t.substr(3,2),16),m=parseInt(t.substr(5,2),16);return(.299*e+.587*o+.114*m)/255>.6?"#000000":"#FFFFFF"}getTypeIcon(t){return`assets/icons/types/${t.toLowerCase()}.svg`}getCurrentPokemonIndex(){let t=this.pokemon();return t?this.pokemonList().findIndex(e=>e.id===t.id):-1}canGoToPrevious(){return this.getCurrentPokemonIndex()>0}canGoToNext(){let t=this.getCurrentPokemonIndex();return t>-1&&t<this.pokemonList().length-1}goToPreviousPokemon(t){if(t.stopPropagation(),this.canGoToPrevious()){let e=this.getCurrentPokemonIndex(),o=this.pokemonList()[e-1];this.pokemonSelected.emit(o)}}goToNextPokemon(t){if(t.stopPropagation(),this.canGoToNext()){let e=this.getCurrentPokemonIndex(),o=this.pokemonList()[e+1];this.pokemonSelected.emit(o)}}onEvolutionClick(t){this.pokemonSelected.emit(t)}ngOnDestroy(){this.spriteInterval&&clearInterval(this.spriteInterval)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["pokedex-pokemon-modal-card"]],inputs:{pokemon:[1,"pokemon"],pokemonList:[1,"pokemonList"]},outputs:{modalClosed:"modalClosed",pokemonSelected:"pokemonSelected"},decls:1,vars:1,consts:[[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-2","sm:p-4","md:p-8"],[1,"fixed","inset-0","bg-black/70","backdrop-blur-sm","flex","items-center","justify-center","z-50","p-2","sm:p-4","md:p-8",3,"click"],["aria-label","Close modal",1,"absolute","top-4","right-4","text-white","text-3xl","font-bold","z-50","hover:scale-110","transition","bg-black/30","rounded-full","w-10","h-10","flex","items-center","justify-center","hover:bg-black/50",3,"click"],[1,"relative","flex","items-center","w-full","max-w-lg","md:max-w-3xl","lg:max-w-none","lg:w-auto"],["aria-label","Previous Pokemon",1,"absolute","-left-4","md:-left-16","top-1/2","-translate-y-1/2","text-white","z-20","hover:scale-110","transition","disabled:opacity-25","bg-black/50","rounded-full","w-12","h-12","md:w-14","md:h-14","flex","items-center","justify-center",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","3","stroke","currentColor",1,"w-8","h-8","md:w-10","md:h-10"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 19.5L8.25 12l7.5-7.5"],[1,"rounded-lg","p-4","md:p-6","w-full","mx-4","sm:mx-0","shadow-lg","relative","overflow-y-auto","max-h-[90vh]",2,"max-width","950px",3,"click","ngStyle"],[1,"mb-4"],[1,"text-center","mb-3"],[1,"text-2xl","sm:text-3xl","font-bold","capitalize",3,"ngStyle"],[1,"text-lg","sm:text-xl",3,"ngStyle"],[1,"flex","gap-2","justify-center","sm:absolute","sm:top-2","sm:right-2"],[3,"typeName","backgroundColor","textColor","typeIcon"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-1","gap-6"],[1,"flex","flex-col","items-center"],[1,"w-48","h-48","object-contain",3,"src","alt"],[1,"text-sm","text-gray-500","mt-2"],[1,"w-full"],[1,"text-lg","font-semibold","mb-2","text-gray-700","text-center"],[3,"stats"],[1,"flex","flex-col"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-x-6"],[1,"text-lg","font-semibold","mb-2","text-gray-700"],[1,"text-gray-600","text-sm","mb-4"],[1,"flex","flex-wrap","gap-2","justify-start","mb-4"],[1,"px-3","py-1","rounded-full","bg-white","bg-opacity-50","text-gray-800","font-medium","shadow"],[1,"text-gray-500","text-sm"],[3,"weakness","backgroundColor","textColor","typeIcon"],[3,"abilityName"],[1,"mt-6","border-t","pt-4"],["aria-label","Next Pokemon",1,"absolute","-right-4","md:-right-16","top-1/2","-translate-y-1/2","text-white","z-20","hover:scale-110","transition","disabled:opacity-25","bg-black/50","rounded-full","w-12","h-12","md:w-14","md:h-14","flex","items-center","justify-center",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 4.5l7.5 7.5-7.5 7.5"],[1,"px-3","py-1","rounded-full","bg-white","bg-opacity-50","font-medium","capitalize","shadow"],[1,"text-lg","font-semibold","mb-4","text-gray-700","text-center"],[1,"flex","flex-wrap","justify-center","items-center","gap-2","md:gap-4"],[3,"evolutionClicked","evolutionName","evolutionId","spriteUrl","totalEvolutions"],[1,"text-2xl","text-gray-400","mx-4"]],template:function(e,o){e&1&&_(0,Se,60,22,"div",0),e&2&&S(o.pokemon()?0:-1)},dependencies:[b,h,Z,U,z,V,q],encapsulation:2})};export{ee as a,te as b,ie as c};
